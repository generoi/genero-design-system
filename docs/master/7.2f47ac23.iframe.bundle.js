(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1783:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"gds_consent_manager",(function(){return GdsConsentManager}));__webpack_require__(286),__webpack_require__(87),__webpack_require__(39),__webpack_require__(285),__webpack_require__(738),__webpack_require__(1890),__webpack_require__(58),__webpack_require__(418),__webpack_require__(15),__webpack_require__(16),__webpack_require__(23),__webpack_require__(14),__webpack_require__(48),__webpack_require__(30);var _index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(284);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var GdsConsentManager=function(){function GdsConsentManager(hostRef){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,GdsConsentManager),Object(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.g)(this,hostRef),this.consentEvent=Object(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.c)(this,"consent",7),this.defaultLanguage="FI",this.language=this.defaultLanguage,this.isopen=!0,this.accordionIsOpen=!1,this.languageNavigation=!0,this.getCookie=function(key){var result;return document.cookie.split(";").some((function(item){var parts=item.split("=");return!(!parts[0]||parts[0].trim()!==key)&&(result=parts[1],!0)})),result},this.getDate13MonthsFromNow=function(){return new Date(Date.now()+33696e6)},this.setCookie=function(key,value){var domain=window.location.hostname.split(".").splice(-2).join("."),expires=_this.getDate13MonthsFromNow();document.cookie=key+"="+value+"; domain="+domain+"; path=/; SameSite=None; Secure; expires="+expires.toUTCString()}}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(GdsConsentManager,[{key:"componentWillLoad",value:function componentWillLoad(){this.configMap=JSON.parse(this.configs),this.settings=this.configMap[this.language];var consentString=this.getCookie("gds-consent");if(consentString){this.runEvent(),this.isopen=!1;var consentValues=consentString.split(",");consentValues.shift(),this.settings.consents.forEach((function(consent,i){consent.consent="1"===consentValues[i]}))}}},{key:"toggleAccordions",value:function toggleAccordions(){this.accordionIsOpen=!0}},{key:"toggleConsent",value:function toggleConsent(consent){consent.consent=!consent.consent}},{key:"acceptSelectedCookies",value:function acceptSelectedCookies(){var consentString="1,"+this.settings.consents.map((function(_ref){return _ref.consent?1:0})).join(",");this.setCookie("gds-consent",consentString),console.log(consentString),this.runEvent(),this.isopen=!1}},{key:"acceptAllCookies",value:function acceptAllCookies(){var consentString="1,"+this.settings.consents.map((function(_ref2){_ref2.consent;return 1})).join(",");this.setCookie("gds-consent",consentString),this.runEvent(),this.isopen=!1}},{key:"runEvent",value:function runEvent(){this.consentEvent.emit({setting:this.settings})}},{key:"render",value:function render(){var _this2=this;return Object(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.e)(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.a,null,Object(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.e)("div",{class:(this.isopen?"gds-cm-wrapper is-open":"gds-cm-wrapper")||{languageNavigation:this.languageNavigation}},Object(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.e)("div",{class:"gds-cm-overlay"},Object(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.e)("div",{class:"gds-cm"},Object(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.e)("div",{class:"header"},Object(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.e)("slot",{name:"headline"},this.headline&&Object(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.e)("gds-heading",{size:"s",class:"headline"},this.headline))),Object(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.e)("div",{class:"body"},Object(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.e)("slot",{name:"description"},this.description&&Object(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.e)("gds-paragraph",{size:"l",class:"description"},this.description)),Object(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.e)("div",{class:this.accordionIsOpen?"is-open accordions-wrapper":"accordions-wrapper"},this.settings.consents.map((function(consent){return Object(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.e)("gds-accordion",null,Object(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.e)("gds-label",{slot:"label",size:"l",onClick:function onClick(event){return event.stopPropagation()}},Object(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.e)("input",{onClick:function onClick(){return _this2.toggleConsent(consent)},type:"checkbox",disabled:consent.necessary,checked:consent.necessary||consent.consent}),consent.label),Object(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.e)("div",{slot:"icon-collapse",class:"icon iconCollapse"},"❮"),Object(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.e)("div",{slot:"icon-expand",class:"icon iconExpand"},"❯"),Object(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.e)("div",{slot:"content"},Object(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.e)("gds-paragraph",{size:"s",class:"gds-cm-accordion-content"},consent.description)))})))),Object(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.e)("div",{class:"footer"},Object(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.e)("gds-button",{onClick:this.accordionIsOpen?function(){return _this2.acceptSelectedCookies()}:function(){return _this2.toggleAccordions()},size:"m"},this.accordionIsOpen?this.settings.buttonAcceptSelected:this.settings.buttonEdit),Object(_index_7c554ec1_js__WEBPACK_IMPORTED_MODULE_14__.e)("gds-button",{onClick:function onClick(){return _this2.acceptAllCookies()},size:"m"},"Accept all"))))))}}]),GdsConsentManager}();GdsConsentManager.style=".gds-cm-wrapper{position:fixed;top:0;bottom:0;left:0;right:0;opacity:0;visibility:hidden;transition:visibility 0s linear 0.25s, opacity 0.25s 0s, transform 0.25s;z-index:10}.gds-cm-overlay{background:rgba(0, 0, 0, 0.3);height:100%;width:100%;position:absolute}.gds-cm{background:var(--gds-color-white);width:600px;height:auto;position:absolute;padding:4rem;left:var(--gds-consent-manager-position-left);top:var(--gds-consent-manager-position-top);transform:var(--gds-consent-manager-transform);border-radius:var(--gds-consent-manager-border-radius);transition:visibility 0s linear 0s, opacity 0.25s 0s, transform 0.25s}.gds-cm .header{display:flex;justify-content:space-between}.gds-cm .header nav.hidden{display:none}.gds-cm .header nav gds-menu-item{padding-top:0;padding-bottom:0}.gds-cm .accordions-wrapper{opacity:0;visibility:hidden;position:absolute;transition:visibility 0s linear 0s, opacity 0.25s 0s, transform 0.25s;--gds-accordion-color:inherit;--gds-accordion-background:var(--gds-color-white);--gds-accordion-content-background:var(--gds-color-white);--gds-accordion-expanded-header-background:transparent;--gds-accordion-border:none;--gds-accordion-border-radius:none;--gds-accordion-box-shadow:none;--gds-accordion-padding:var(--gds-spacing-s);--gds-accordion-header-padding:0}.gds-cm .accordions-wrapper input[type=checkbox]{margin:0.5rem}.gds-cm .accordions-wrapper gds-accordion .icon{transform:rotate(90deg)}.gds-cm .accordions-wrapper .gds-cm-accordion-content{margin-top:0;margin-bottom:0}.gds-cm .accordions-wrapper.is-open{opacity:1;visibility:visible;position:relative}.gds-cm .footer{margin-top:2rem;display:flex;justify-content:center;gap:var(--gds-spacing-m)}.is-open{opacity:1;visibility:visible;transition:visibility 0s linear 0s, opacity 0.25s 0s, transform 0.25s}"},1890:function(module,exports,__webpack_require__){__webpack_require__(10)({target:"Date",stat:!0},{now:function now(){return(new Date).getTime()}})}}]);